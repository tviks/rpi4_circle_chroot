# rpi4_circle_chroot
# Информация
Набор скриптов и инструментов для быстрой модификации образа для RPI на базе ubuntu 20.04 с помощью chroot.

> Проверенно на WSL2 Windows 11

# Использование

## Создадим необходимые дерриктории

```
    mkdir mnt
    mkdir -P iso/download
```

## Дадим права для выполения скриптов

```
    sudo chmod +x circle.sh
    sudo chmod +x tools/*
```

## Для вызова справки по скрипту 

```
    sudo ./circle.sh -h
```

## Скачивание и распаковка образа

```
    sudo ./circle.sh download
```

## Добаления свободного места в образ

```
    sudo ./circle.sh space
```

## Выполение sh скрипта в образе

```
    sudo ./circle.sh chroot ключ_1 ключ_2 скрипт
```

> ключ_1 это ключ обновления системы, он может принимать аргументы (y/n) и по факту выполняет команду 
>> sudo apt-get update && apt-get upgrade -y

> ключ_2 это ключ выпорления скрипта, принимает на вход также (y/n)
>> ключь скрипт принимает на вход название скрипта, который должен распологаться в директроии scripts/.. и иметь +x права

## Монтирование образа

```
    sudo ./circle.sh chroot mount
```
После выполнения этого скрипта, в папке mnt появляется моунт-поинт нашего образа, для ручной настройки или модификации

## Umount

```
    sudo ./circle.sh chroot umount
```
Размонтирование образа и удалениие loop девайсов.